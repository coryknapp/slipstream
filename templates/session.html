{% extends 'base.html' %}
{% load static %}
{% block title %}{{character.name}}{% endblock %}

{% block script %}

<script src="/static/js/vue.js" charset="utf-8"></script>

{% include "rules.html" %}

<script type="text/javascript">

character = {
	name: "{{character.name}}",
	generated_description: "{{character.generated_description}}",
};

character.base_statistics = {
	{% for bs in character.base_statistics.statistic_modifiers.all %}
		{{bs.statistic.pk}} : {{bs.value}},
	{% endfor %}
};

character.effects = [
	{% for e in character.effects.all %}
		{{e.pk}},
	{% endfor %}
];

character.classes = [
	{% for c in character.classes.all %}
		{{c.pk}},
	{% endfor %}
];

character.currency_quantity = {
	{% for cq in character.inventory_set.currency_quantities.all %}
		{{cq.currency.pk}} : {{cq.count}},
	{% endfor %}
};

onload = function(){
	app = new Vue({
		el: '#app',

		data: {
			rules : rules,
			character: character,
			
		},
	});
}

</script>
<script src="/static/js/character_view.js" charset="utf-8"></script>
<script src="/static/js/session.js" charset="utf-8"></script>

{% endblock %}

{% block content %}
<div class="container">
	<div id="app">
		<character-view
			:rules="rules"
			:character="character"></character-view>
	</div> {#end app#}
</div>
{% endblock %}
